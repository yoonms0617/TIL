# 테이블

- **ver:** mariadb 10.7.3

### 테이블 정보 확인

```sql
DESCRIBE 테이블명;
```

- `DESC 테이블명`도 동일한 작업을 수행한다.

### - 테이블 생성

```sql
CREATE TABLE 테이블명 (
  컬럼명 데이터타입 [제약조건],
  ...
);

CREATE TABLE 테이블명 (
  컬럼명 데이터타입 PRIMARY KEY,
  컬럼명 데이터타입 FOREIGN KEY REFERENCES 참조테이블(기본키),
  컬럼명 데이터타입 UNIQUE,
  컬럼명 데이터타입 NOT NULL,
  컬럼명 데이터타입 CHECK(조건식),
  컬럼명 데이터타입 DEFAULT 값
);

-- USER 테이블 생성
CREATE TABLE USER (
  uid BIGINT PRIMARY KEY,
  name VARCHAR(20),
  email VARCHAR(20) UNIQUE,
  gender CHAR(1) CHECK(gender = '남' or gender = '여')
)
```

#### 제약조건

- **PRIMARY KEY**
  - 기본 키를 정의한다.
  - 유일하게 테이블의 각 행을 식별하는 역할
  - NOT NULL + UNIQUE 제약 조건의 특징을 모두 가지게 된다.
- **FOREIGN KEY**
  - 외래 키를 정의한다.
  - 참조 대상을 테이블(컬럼명)으로 명시
- **UNIQUE**
  - 유일한 값을 가진다.
  - 중복을 허용하지 않는다.
- **NOT NULL**
  - NULL 값을 허용하지 않는다.
- **CHECK**
  - 개발자가 정의하는 제약조건이다.
  - 해당 조건이 참(True)이어야 하는 조건을 지정
- **DEFAULT**
  - 데이터를 삽입할 때 해당 값을 넣지 않는 경우 기본값으로 설정해준다.

### - 테이블 수정

#### ALTER TABLE 컬럼 추가

```sql
ATLER TABLE 테이블명 ADD 컬럼명 데이터타입 [제약조건];

-- USER 테이블에 데이터 타입이 VARCHAR(20) 이면서 NULL을 허용하지 않는 email 컬럼추가
ex) ALTER TABLE USER ADD email VARCHAR(20) NOT NULL;
```

#### ALTER TABLE 컬럼 수정

```sql
ALTER TABLE 테이블명 MODIFY 컬럼명 데이터타입 [제약조건];

-- USER 테이블에 email 컬럼이 데이터타입이 VARCHAR(40)이면서 NOT NULL 제약조건을 걸도록 수정
ex) ALTER TABLE USER MODIFY email VARCHAR(40) NOT NULL;
```

#### ALTER TABLE 컬럼 삭제

```sql
ALTER TABLE 테이블명 DROP 컬럼명;

-- USER 테이블의 email 컬럼 삭제
ex) ALTER TABLE USER DROP email;
```

### - 테이블 삭제

#### DROP TABLE 테이블 삭제

```sql
DROP TABLE 테이블명 [CASCADE | RESTRICT];

-- USER 테이블 삭제
ex) DROP TABLE USER;
```

- CASCADE: 참조하는 테이블까지 연쇄적으로 제거하는 옵션
- RESTRICT: 다른 테이블이 삭제할 테이블을 참조 중이면서 제거하지 않는 옵션 (DEFAULT)

#### TRUNCATE TABLE 테이블 내의 데이터 삭제

```sql
TRUNCATE TABLE 테이블명;

-- USER 테이블 내의 모든 데이터를 삭제
ex) TRUNCATE TABLE USER;
```

---

#### 참고

- <https://www.techonthenet.com/mariadb/tables/create_table.php>